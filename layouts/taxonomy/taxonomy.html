{{ define "main" }}
{{/* Ä°ller / HastalÄ±klar listesi sayfalarÄ± */}}

{{ $isIller := eq .Data.Plural "iller" }}
{{ $isHastaliklar := eq .Data.Plural "hastaliklar" }}

<section class="term-hero" aria-labelledby="taxonomy-title">
  <div class="container">
    {{ if $isIller }}
    <p class="term-hero__eyebrow">Ä°l Rehberi</p>
    <h1 class="term-hero__title" id="taxonomy-title">TÃ¼rkiye'nin TÃ¼m Ä°llerinde KaplÄ±calar</h1>
    <p class="term-hero__subtitle">81 il, 1.500+ termal kaynak â€” yaÅŸadÄ±ÄŸÄ±nÄ±z yere en yakÄ±n kaplÄ±cayÄ± bulun</p>
    {{ else if $isHastaliklar }}
    <p class="term-hero__eyebrow">SaÄŸlÄ±k Kategorileri</p>
    <h1 class="term-hero__title" id="taxonomy-title">HastalÄ±klara GÃ¶re KaplÄ±ca Rehberi</h1>
    <p class="term-hero__subtitle">Åikayetinize iyi gelen kaplÄ±calarÄ± hastalÄ±k kategorisine gÃ¶re bulun</p>
    {{ else }}
    <h1 class="term-hero__title" id="taxonomy-title">{{ .Title }}</h1>
    {{ end }}
  </div>
</section>

<div class="container">
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <a href="/">Anasayfa</a>
    <span class="breadcrumb__sep" aria-hidden="true">â€º</span>
    <span aria-current="page">{{ .Title }}</span>
  </nav>
</div>

<section class="section" style="padding-top:1rem;">
  <div class="container">
    {{ if $isIller }}
    <div class="il-grid fade-in">
      {{ range .Data.Terms.ByCount }}
      <a href="{{ .Page.RelPermalink }}" class="il-card">
        <p class="il-card__name">{{ .Page.Title }}</p>
        <span class="il-card__count">{{ .Count }} kaplÄ±ca</span>
      </a>
      {{ end }}
    </div>
    {{ else }}
    <div class="hastalik-grid fade-in">
      {{/* Her hastalÄ±k kategorisi iÃ§in ikon ve renk sÄ±nÄ±fÄ± */}}
      {{ $icons := dict
        "romatizma"              (dict "icon" "ğŸ¦´" "class" "kemik")
        "cilt-hastalÄ±klarÄ±"      (dict "icon" "âœ¨" "class" "cilt")
        "sinir-hastalÄ±klarÄ±"     (dict "icon" "ğŸ§ " "class" "sinir")
        "solunum-hastalÄ±klarÄ±"   (dict "icon" "ğŸ«" "class" "solunum")
        "kas-hastalÄ±klarÄ±"       (dict "icon" "ğŸ’ª" "class" "kemik")
        "eklem-hastalÄ±klarÄ±"     (dict "icon" "ğŸ”©" "class" "kemik")
        "sindirim-hastalÄ±klarÄ±"  (dict "icon" "ğŸŒ¿" "class" "sindirim")
        "kas-romatizmasÄ±"        (dict "icon" "ğŸ’ª" "class" "kemik")
        "sedef-hastalÄ±ÄŸÄ±"        (dict "icon" "ğŸŒŸ" "class" "cilt")
        "stres"                  (dict "icon" "ğŸ§˜" "class" "sinir")
        "diyabet"                (dict "icon" "ğŸ©¸" "class" "sindirim")
        "tansiyon"               (dict "icon" "â¤ï¸" "class" "sinir")
        "egzama"                 (dict "icon" "âœ¨" "class" "cilt")
        "psoriazis"              (dict "icon" "âœ¨" "class" "cilt")
        "fibromiyalji"           (dict "icon" "ğŸ’ª" "class" "kemik")
        "kalp-damar hastalÄ±klarÄ±" (dict "icon" "â¤ï¸" "class" "sinir")
      }}
      {{ range .Data.Terms.ByCount }}
      {{/* KlasÃ¶r adÄ±nÄ± kullan â€” URL encode olmaz, TÃ¼rkÃ§e karakter dict key'leriyle eÅŸleÅŸir */}}
      {{ $termKey := .Page.File.ContentBaseName }}
      {{ $meta := index $icons $termKey | default (dict "icon" "ğŸŒŠ" "class" "diger") }}
      {{/* GÃ¶rÃ¼ntÃ¼leme adÄ±: .Page.Title (artÄ±k kÄ±sa form), yoksa slug'dan oluÅŸtur */}}
      {{ $displayName := .Page.Title | replaceRE "-" " " | title }}
      <a href="{{ .Page.RelPermalink }}" class="hastalik-card">
        <div class="hastalik-card__icon hastalik-card__icon--{{ $meta.class }}" aria-hidden="true">{{ $meta.icon }}</div>
        <p class="hastalik-card__name">{{ $displayName }}</p>
        <span class="hastalik-card__count">{{ .Count }} kaplÄ±ca</span>
      </a>
      {{ end }}
    </div>
    {{ end }}
  </div>
</section>

{{ end }}
