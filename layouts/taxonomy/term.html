{{ define "main" }}
{{/* Bu template hem il sayfalarÄ± (iller/afyonkarahisar/) hem hastalÄ±k sayfalarÄ± (hastaliklar/romatizma/) iÃ§in Ã§alÄ±ÅŸÄ±r */}}

{{ $isIl := eq .Data.Plural "iller" }}
{{ $isHastalik := eq .Data.Plural "hastaliklar" }}

<!-- =============================================
     TERM HERO
============================================= -->
<section class="term-hero" aria-labelledby="term-title">
  <div class="container">
    {{ if $isIl }}
    <p class="term-hero__eyebrow">Ä°l Rehberi</p>
    <h1 class="term-hero__title" id="term-title">{{ .Title }} KaplÄ±calarÄ±</h1>
    <p class="term-hero__subtitle">
      {{ .Title }} ilindeki {{ len .Pages }} termal kaynak ve kaplÄ±ca hakkÄ±nda kapsamlÄ± rehber
    </p>
    {{ else if $isHastalik }}
    {{ $displayTitle := .Title | replaceRE "-" " " | title }}
    <p class="term-hero__eyebrow">SaÄŸlÄ±k Kategorisi</p>
    <h1 class="term-hero__title" id="term-title">{{ $displayTitle }}</h1>
    <p class="term-hero__subtitle">
      {{ $displayTitle }} rahatsÄ±zlÄ±ÄŸÄ±na iyi gelen {{ len .Pages }} kaplÄ±ca
    </p>
    {{ else }}
    <p class="term-hero__eyebrow">Kategori</p>
    <h1 class="term-hero__title" id="term-title">{{ .Title }}</h1>
    <p class="term-hero__subtitle">{{ len .Pages }} kaplÄ±ca listeleniyor</p>
    {{ end }}
  </div>
</section>

<!-- BREADCRUMB -->
<div class="container">
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <a href="/">Anasayfa</a>
    <span class="breadcrumb__sep" aria-hidden="true">â€º</span>
    {{ if $isIl }}<a href="/iller/">Ä°ller</a>{{ end }}
    {{ if $isHastalik }}<a href="/hastaliklar/">HastalÄ±klar</a>{{ end }}
    <span class="breadcrumb__sep" aria-hidden="true">â€º</span>
    <span aria-current="page">{{ .Title }}</span>
  </nav>
</div>

<!-- HastalÄ±k iÃ§in giriÅŸ paragrafÄ± ve disclaimer -->
{{ if $isHastalik }}
<div class="container" style="max-width:720px; margin-bottom:0;">
  <div style="background:var(--color-bg-warm); border-left:3px solid var(--color-accent); padding:1.25rem 1.5rem; border-radius:0 var(--radius-sm) var(--radius-sm) 0; margin-bottom:2rem;" class="fade-in">
    <p style="font-size:0.875rem; color:var(--color-text-light); margin:0;">
      âš•ï¸ <strong>TÄ±bbi UyarÄ±:</strong> AÅŸaÄŸÄ±daki bilgiler genel rehber amaÃ§lÄ±dÄ±r ve tÄ±bbi tavsiye niteliÄŸi taÅŸÄ±maz.
      Herhangi bir saÄŸlÄ±k sorunu iÃ§in kaplÄ±ca tedavisine baÅŸlamadan Ã¶nce doktorunuza danÄ±ÅŸmanÄ±zÄ± Ã¶neririz.
    </p>
  </div>
</div>
{{ end }}

<!-- =============================================
     KAPLICA GRÄ°D
============================================= -->
<section class="section" style="padding-top:1rem;">
  <div class="container">
    {{ if .Pages }}
    <div class="cards-grid">
      {{ range .Paginator.Pages }}
        {{ partial "kaplica-card.html" . }}
      {{ end }}
    </div>

    {{ $paginator := .Paginator }}
    {{ if gt $paginator.TotalPages 1 }}
    <nav class="pagination" aria-label="Sayfa navigasyonu">
      {{ if $paginator.HasPrev }}
      <a href="{{ $paginator.Prev.URL }}" aria-label="Ã–nceki sayfa">â€¹</a>
      {{ end }}
      {{ range $paginator.Pagers }}
        {{ if eq . $paginator }}
        <span class="active" aria-current="page">{{ .PageNumber }}</span>
        {{ else if le (math.Abs (sub .PageNumber $paginator.PageNumber)) 2 }}
        <a href="{{ .URL }}">{{ .PageNumber }}</a>
        {{ end }}
      {{ end }}
      {{ if $paginator.HasNext }}
      <a href="{{ $paginator.Next.URL }}" aria-label="Sonraki sayfa">â€º</a>
      {{ end }}
    </nav>
    {{ end }}

    {{ else }}
    <div style="text-align:center; padding:4rem 0; color:var(--color-text-light);">
      <p style="font-size:3rem; margin-bottom:1rem;">ğŸŒŠ</p>
      <p>Bu kategoride henÃ¼z kaplÄ±ca eklenmemiÅŸ.</p>
      <a href="/kaplicalar/" class="btn btn--primary" style="margin-top:1.5rem; display:inline-flex;">TÃ¼m KaplÄ±calarÄ± GÃ¶r</a>
    </div>
    {{ end }}
  </div>
</section>

<!-- =============================================
     TAXONOMY CONTENT (from _index.md)
============================================= -->
{{ if .Content }}
<section class="section taxonomy-content" style="padding-top:0; background:var(--color-bg-warm);">
  <div class="container" style="max-width:780px;">
    <div class="prose">
      {{ .Content }}
    </div>
  </div>
</section>
{{ end }}

{{ end }}
